<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-02-11">

<title>Multiple Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="multiple_regression_files/libs/clipboard/clipboard.min.js"></script>
<script src="multiple_regression_files/libs/quarto-html/quarto.js"></script>
<script src="multiple_regression_files/libs/quarto-html/popper.min.js"></script>
<script src="multiple_regression_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="multiple_regression_files/libs/quarto-html/anchor.min.js"></script>
<link href="multiple_regression_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="multiple_regression_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="multiple_regression_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="multiple_regression_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="multiple_regression_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Multiple Regression</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 11, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<hr>
<section id="instructions" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Instructions</h1>
<p>Participate in Kaggle’s <a href="https://www.kaggle.com/c/house-prices-advanced-regression-techniques/">House Prices: Advanced Regression Techniques</a> competition, where among other things you will:</p>
<ol type="1">
<li>Fit a multiple regression model involving at least 6 predictor variables, with at least <strong>three categorical variables</strong>.</li>
<li>Justify why you chose these 6 variables and justify why you omitted others.</li>
<li>Apply the fitted/trained model to the training data and compute the root mean squared error using <code>dplyr</code> and other R functions. In other words, do not use a <code>rmse()</code> function from another R package.</li>
<li>Write a <code>submissions.csv</code> file that when submitted on Kaggle, returns a valid score.</li>
<li>Take a screenshot of your Kaggle score and compare it to the score you computed earlier.</li>
<li>On Moodle, submit a <code>.zip</code> compressed/archived file of this entire RStudio project folder. We are doing this to ensure the graders can reproduce your Quarto file.</li>
</ol>
<section id="suggested-workflow" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="suggested-workflow"><span class="header-section-number">1.1</span> Suggested workflow</h2>
<ul>
<li>Knit this file and read all instructions.</li>
<li>Before doing any modeling, perform an exploratory data analysis:
<ul>
<li>Read the data dictionary included in <code>data/data_description.text</code> and get familiar with all variables</li>
<li>Look at the raw data values in RStudio’s spreadsheet viewer</li>
<li>Compute summary statistics</li>
<li>Create data visualizations</li>
</ul></li>
<li>Take the “minimally viable product” approach to model building. Remember, done is better than perfect.</li>
</ul>
<center>
<img src="images/MVP2.png" width="60%">
</center>
</section>
<section id="evaluation-criteria" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="evaluation-criteria"><span class="header-section-number">1.2</span> Evaluation criteria</h2>
<p>Grading will be done on a progressive scale:</p>
<ol type="1">
<li>Minimum viable product (passing grade)
<ol type="1">
<li>Does your Quarto file knit? Submissions that don’t knit will be penalized harshly. So render early, render often.</li>
<li>Did you fit a model with one numerical predictor variable that yields a valid submission on Kaggle?</li>
<li>Did you include a screenshot of your Kaggle score and compared it to your estimated score</li>
</ol></li>
<li>Due diligence (next highest grade). All criteria above plus:
<ol type="1">
<li>Did you fit a model with one numerical predictor and one categorical predictor that yields a valid submission on Kaggle?</li>
</ol></li>
<li>Iterating to perfection. All criteria above plus:
<ol type="1">
<li>Did you fit a model with 3 predictor variables?</li>
<li>…</li>
<li>Did you fit a model with 6 preditor variables, at least three of which are categorical?</li>
</ol></li>
<li>Point of diminishing returns (highest grade). All criteria above plus:
<ol type="1">
<li>Is your Quarto file polished?
<ul>
<li>Don’t include superfluous output that the reader doesn’t need, doesn’t care about, or can’t digest.</li>
<li>All things being equal, readers prefer concise and crisp written explanations, rather than overly long ones.</li>
<li>Plots: Keep the “ink-to-information” ratio in mind. Ensure your plots have labeled axes and informative titles.</li>
<li>Use markdown formatting to make your presentation effective.</li>
<li>Is code cleanly written, well-documented, and well-formatted.</li>
</ul></li>
<li>Optional: Did you fit a model with more than 6 predictor variables?</li>
<li><strong>“Did you win?”</strong> The least important criteria. The students with the best score wins a small prize!</li>
</ol></li>
</ol>
<hr>
</section>
</section>
<section id="honor-code" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Honor Code</h1>
<ul>
<li>Indicate anybody you collaborated with:</li>
<li>Indicate that you did not use ChatGPT for this problem set: I did not use ChatGPT for this problem set.</li>
</ul>
<hr>
</section>
<section id="exploratory-data-analysis" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Exploratory data analysis</h1>
<section id="choice-of-variables" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="choice-of-variables"><span class="header-section-number">3.1</span> Choice of variables</h2>
<p>Justify why you chose each of your 6 predictor variables here, both in writing and using no more than 6 visualizations.</p>
<ul>
<li>totalSF: According to the scatterplot of total square feet vs.&nbsp;sales price, I found the 2 variables are highly correlated and sales price increases as totalSF increases.</li>
<li>MSZoning: The distributions of pricing are generally different across the categories of zoning. In particular, the distributions of price for FV and RL are higher than the other 3 categories.</li>
<li>Utilities: The 2 categories have discernable differences in distributions of sales price. AllPub shows a wide range of sales prices, while all of the sales prices for NoSeWa are concentrated in the low sales price range.</li>
<li>Neighborhood: All neighborhoods possess very distinct distributions of sales prices. For example, BrkSide lies in the $150,000 price range, while StoneBr has price ranges in the $400,000 range.</li>
<li>YearBuilt: The 2 variables are strongly positively correlated because the sales price increases as the year built increases.</li>
<li>outdoorEntArea: There is a strong, positive correlation between the total outdoor entertainment area and sales price. When the total outdoor entertainment area increases, sales price increases as well.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rename first floor area variable</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> training <span class="sc">%&gt;%</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">firstFloorSF =</span> <span class="st">'1stFlrSF'</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># rename 2nd floor area variable </span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> training <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">secondFloorSF =</span> <span class="st">'2ndFlrSF'</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># add up areas of all sections of the home</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> training <span class="sc">%&gt;%</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">totalSF =</span> firstFloorSF <span class="sc">+</span> secondFloorSF <span class="sc">+</span> TotalBsmtSF)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># scatterplot of total sq ft vs sale price</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> training, <span class="fu">aes</span>(<span class="at">x =</span> totalSF, <span class="at">y =</span> SalePrice)) <span class="sc">+</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span> </span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship Between Total Indoor Area and Sales Price"</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Total Indoor Area (sqft)"</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sales Price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="multiple_regression_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distribution of sales price by zone</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> training, <span class="fu">aes</span>(<span class="at">x =</span> MSZoning, <span class="at">y =</span> SalePrice)) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Sales Price by Zone"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Zone"</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sales Price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="multiple_regression_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distribution of sales price by utility type</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> training, <span class="fu">aes</span>(<span class="at">x =</span> Utilities, <span class="at">y =</span> SalePrice)) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Sales Price by Utility Type"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Utility Type"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sales Price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="multiple_regression_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># distribution of sales price by neighborhood</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> training, <span class="fu">aes</span>(<span class="at">x =</span> SalePrice, <span class="at">y =</span> Neighborhood)) <span class="sc">+</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution of Sales Price by Neighborhood"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Neighborhood"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sales Price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="multiple_regression_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># scatterplot of year built vs. sales price</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> training, <span class="fu">aes</span>(<span class="at">x =</span> YearBuilt, <span class="at">y =</span> SalePrice)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span> </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship Between Year Built and Sales Price"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year Built"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sales Price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="multiple_regression_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rename three season porch area variable</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> training <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">threeSeasonPorch =</span> <span class="st">'3SsnPorch'</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># add up all outdoor area spaces </span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> training <span class="sc">%&gt;%</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outdoorEntArea =</span> WoodDeckSF <span class="sc">+</span> OpenPorchSF <span class="sc">+</span> EnclosedPorch <span class="sc">+</span> threeSeasonPorch <span class="sc">+</span> ScreenPorch <span class="sc">+</span> PoolArea)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># scatterplot of outdoorEntArea vs sales price </span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> training, <span class="fu">aes</span>(<span class="at">x =</span> outdoorEntArea, <span class="at">y =</span> SalePrice)) <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relationship Between Total Outdoor Area vs Sales Price"</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Total Outdoor Entertainment Area (sqft)"</span>,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sales Price"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="multiple_regression_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="other-variables-considered" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="other-variables-considered"><span class="header-section-number">3.2</span> Other variables considered</h2>
<p>The following variables are excluded from the model because</p>
<ul>
<li>Continuous variables: It does not contain a sufficient amount of data or the correlation with the sales price is relatively weaker compared to those selected.</li>
<li>Categorical variables: It does not contain a sufficient amount of data or the distribution of sales price across different categories are generally similar to each other.</li>
</ul>
<p>Those variables are:</p>
<ul>
<li>PoolArea: There is no clear correlation between pool area and sales price. There is a large cluster of points with a large range of sales prices for homes without pools. Besides that section, there is not enough data to make a conclusion on its correlation.</li>
<li>WoodDeckSF: Even though there is a positive correlation, the data begins to fan out as the area of the wood deck increases.</li>
<li>BsmtFinType1: Many of the basement finish types have similar distributions, which shows that the differences in basement finishes do not contribute to significant differences in sales price.</li>
<li>LotConfig: Many of the lot configurations have similar distributions, which shows that the differences in lot configurations do not contribute to significant differences in sales price.</li>
<li>BldgType: Although 1Fam has a significantly higher sales price than the other building types, the rest have very similar distributions. This shows that the differences in building types do not contribute to significant differences in sales price.</li>
<li>LotArea: A significant positive or negative relationship does not exist for this variable, as there is a large range in sales prices for houses with a smaller lot area with a few outliers for homes with larger lot areas.</li>
</ul>
<hr>
</section>
</section>
<section id="modeling" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Modeling</h1>
<section id="model-fit" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="model-fit"><span class="header-section-number">4.1</span> Model fit</h2>
<p>Fit your ultimate multiple regression model using <code>lm()</code> &amp; save it in <code>SalePrice_model</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># fit multiple regression model</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>SalePrice_model <span class="ot">&lt;-</span> <span class="fu">lm</span>(SalePrice <span class="sc">~</span> totalSF <span class="sc">+</span> MSZoning <span class="sc">+</span> Utilities <span class="sc">+</span> Neighborhood <span class="sc">+</span> YearBuilt <span class="sc">+</span> outdoorEntArea, <span class="at">data =</span> training)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="compute-score-on-training-data" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="compute-score-on-training-data"><span class="header-section-number">4.2</span> Compute score on training data</h2>
<ul>
<li>Apply the fitted/trained model <code>SalePrice_model</code> to the training data to get <span class="math inline">\(\widehat{y}\)</span></li>
<li>Compute the root mean squared error using <code>dplyr</code> and other R functions. In other words, do not use a <code>rmse()</code> function from another R package.</li>
<li>Ensure your score displays in the HTML output</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add predicted values to training dataset</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>training <span class="ot">&lt;-</span> <span class="fu">data_frame</span>(training, <span class="at">y_hat =</span> <span class="fu">predict</span>(SalePrice_model))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate rmsle</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>rmsle <span class="ot">&lt;-</span> <span class="fu">sqrt</span>((<span class="fu">sum</span>((<span class="fu">log</span>(training<span class="sc">$</span>y_hat <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">-</span> <span class="fu">log</span>(training<span class="sc">$</span>SalePrice <span class="sc">+</span> <span class="dv">1</span>))<span class="sc">^</span><span class="dv">2</span>))<span class="sc">/</span>(<span class="fu">nrow</span>(training)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="apply-fitted-model-on-test-data" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="apply-fitted-model-on-test-data"><span class="header-section-number">4.3</span> Apply fitted model on test data</h2>
<ul>
<li>Apply the fitted/trained model <code>SalePrice_model</code> to the test data to get <span class="math inline">\(\widehat{y}\)</span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># rename 1st floor area column</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">firstFloorSF =</span> <span class="st">'1stFlrSF'</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># rename 2nd floor area column</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">secondFloorSF =</span> <span class="st">'2ndFlrSF'</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># add up areas from first floor, second floor, and basement to get total square feet</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">totalSF =</span> firstFloorSF <span class="sc">+</span> secondFloorSF <span class="sc">+</span> TotalBsmtSF)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># rename three season porch area variable</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">threeSeasonPorch =</span> <span class="st">'3SsnPorch'</span>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="co"># add up all outdoor area spaces </span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outdoorEntArea =</span> WoodDeckSF <span class="sc">+</span> OpenPorchSF <span class="sc">+</span> EnclosedPorch <span class="sc">+</span> threeSeasonPorch <span class="sc">+</span> ScreenPorch <span class="sc">+</span> PoolArea)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># predict sales price on test using fitted/trained model</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>SalePrice <span class="ot">&lt;-</span> <span class="fu">predict</span>(SalePrice_model, <span class="at">newdata =</span> test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter test to only include non NA sale price values</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>test_salePrice_NA <span class="ot">&lt;-</span> test <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SalePrice))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># find mean of all sales prices of test</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>test_salePrice_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(test_salePrice_NA<span class="sc">$</span>SalePrice)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co"># replace NA values with mean</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>SalePrice[<span class="fu">is.na</span>(test<span class="sc">$</span>SalePrice)] <span class="ot">&lt;-</span> test_salePrice_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
</section>
<section id="kaggle-score" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Kaggle score</h1>
<section id="create-submission-csv" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="create-submission-csv"><span class="header-section-number">5.1</span> Create submission CSV</h2>
<p>Below is code that writes predictions based on the mean model to a csv file:</p>
<p><span class="math display">\[
\widehat{y} = \widehat{f}(\vec{x}) = \overline{y}
\]</span> Modify this code so that it submits your model’s predictions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add sales price values to submission file</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>submission <span class="ot">&lt;-</span> sample_submission <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SalePrice =</span> test<span class="sc">$</span>SalePrice)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># convert into file </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(submission, <span class="at">path =</span> <span class="st">"data/submission.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="screenshot-of-kaggle-score" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="screenshot-of-kaggle-score"><span class="header-section-number">5.2</span> Screenshot of Kaggle score</h2>
<p>After making your submission on Kaggle, take a screenshot, and replace the image of my score with the image of yours below.</p>
<p><img src="images/score_screenshot.png" class="img-fluid" style="width:100.0%"></p>
<p>How does your RMSE based on the training data compare to the RMSE on the test data returned by Kaggle?</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>